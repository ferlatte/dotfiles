#! /bin/bash

set -eu -o pipefail

function inpath {
    command -v "$1" > /dev/null
}

pushd ~/dotfiles > /dev/null
git pull
stow [a-z]*
popd > /dev/null

bash-it-configure

brewup

if inpath pyenv; then
    pyenv rehash
fi

if inpath vagrant; then
    vagrant plugin update
fi

# These end up in ~/src/go/bin
go get -u github.com/nsf/gocode
go get -u mvdan.cc/sh/cmd/shfmt
go get -u github.com/alecthomas/gometalinter
gometalinter --install

emacsup
